import{d as e,r as t,o as a,j as s,k as r,q as l,b as o,c as n,t as i,B as c,e as u}from"./index-BChQAjBg.js";import{C as d}from"./CoachesAPI-BJ-v_NhS.js";import{_ as m}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_ as p}from"./AdminLayout-BDbNDvIA.js";import{_ as f}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{D as y}from"./DataTable-D4TLCeTz.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./ErrorIcon-CRM2J8oG.js";const h={class:"space-y-5 sm:space-y-6"},g={key:0,class:"flex justify-center items-center py-12"},v={class:"flex items-center gap-3"},x={class:"w-10 h-10 overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700"},b=["src"],_={key:1,class:"flex items-center justify-center w-full h-full text-sm font-medium text-gray-600 dark:text-gray-300"},k={class:"block font-medium text-gray-800 text-sm dark:text-white/90"},w={class:"block text-gray-500 text-xs dark:text-gray-400"},C={class:"flex items-center text-yellow-500"},j=e({__name:"Coaches",setup(e){const j=c(),A=t("Coaches"),U=t([]),D=t(!1),E=[{key:"id",title:"ID",type:"text"},{key:"user",title:"Coach",type:"custom"},{key:"bio",title:"Bio",type:"text"},{key:"rating",title:"Rating",type:"custom"}],B=async()=>{D.value=!0;try{const e=await d.getAllCoaches({});U.value=e.data.data||e.data}catch(e){console.error("Error fetching coaches:",e)}finally{D.value=!1}},I=()=>{j.push("/coaches/add")},T=e=>{j.push(`/coaches/view/${e.id}`)},F=e=>{j.push(`/coaches/edit/${e.id}`)},P=async e=>{if(confirm("Are you sure you want to delete this coach profile?"))try{await d.deleteCoach(e.id),B()}catch(t){console.error("Error deleting coach:",t),alert("Failed to delete coach")}};return a(()=>{B()}),(e,t)=>(u(),s(p,null,{default:r(()=>[l(m,{pageTitle:A.value},null,8,["pageTitle"]),o("div",h,[l(f,{title:"Coaches Management"},{default:r(()=>[o("div",{class:"mb-4 flex justify-between items-center"},[t[0]||(t[0]=o("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"All Coaches",-1)),o("button",{onClick:I,class:"px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2"}," Add Coach ")]),D.value?(u(),n("div",g,[...t[1]||(t[1]=[o("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"},null,-1)])])):(u(),s(y,{key:1,columns:E,data:U.value,showActions:!0,onView:T,onEdit:F,onDelete:P},{"column-user":r(({item:e})=>{var t,a,s,r,l;return[o("div",v,[o("div",x,[(null==(t=e.User)?void 0:t.avatar)?(u(),n("img",{key:0,src:e.User.avatar,alt:"Avatar",class:"w-full h-full object-cover"},null,8,b)):(u(),n("span",_,i((null==(s=null==(a=e.User)?void 0:a.name)?void 0:s.charAt(0))||"C"),1))]),o("div",null,[o("span",k,i((null==(r=e.User)?void 0:r.name)||"Unknown"),1),o("span",w,i(null==(l=e.User)?void 0:l.email),1)])])]}),"column-rating":r(({item:e})=>{var t;return[o("span",C," â˜… "+i((null==(t=e.rating)?void 0:t.toFixed(1))||"0.0"),1)]}),_:1},8,["data"]))]),_:1})])]),_:1}))}});export{j as default};
