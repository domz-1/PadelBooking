import{d as e,r as t,m as a,j as r,k as o,q as s,b as l,B as i,e as p}from"./index-BChQAjBg.js";import{S as u}from"./StoriesAPI-BypLS4I5.js";import{_ as n}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_}from"./AdminLayout-BDbNDvIA.js";import{_ as m}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{_ as c}from"./Form.vue_vue_type_script_setup_true_lang-Dj0hsM9h.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";const y={class:"space-y-5 sm:space-y-6"},d=e({__name:"StoryForm",setup(e){const d=i(),f=t(!1),v=a(()=>[{key:"media",label:"Media File",type:"file",required:!0},{key:"caption",label:"Caption",type:"text",placeholder:"Story caption"}]),g=async e=>{f.value=!0;try{const t=new FormData;Object.keys(e).forEach(a=>{null!==e[a]&&void 0!==e[a]&&t.append(a,e[a])}),await u.createStory(t),d.push("/stories")}catch(t){console.error("Error creating story:",t),alert("Failed to create story")}finally{f.value=!1}};return(e,t)=>(p(),r(_,null,{default:o(()=>[s(n,{pageTitle:"Add Story"}),l("div",y,[s(m,{title:"New Story"},{default:o(()=>[s(c,{fields:v.value,loading:f.value,"submit-button-text":"Create Story",onSubmit:g},null,8,["fields","loading"])]),_:1})])]),_:1}))}});export{d as default};
