import{_ as e}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_ as a}from"./AdminLayout-BDbNDvIA.js";import{_ as l}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{_ as o}from"./Form.vue_vue_type_script_setup_true_lang-Dj0hsM9h.js";import{I as t}from"./ImagesAPI-Lj7hDOQz.js";import{r as s,o as r,j as u,k as i,q as n,b as d,c,t as g,l as p,e as v}from"./index-BChQAjBg.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";const m={class:"space-y-5 sm:space-y-6"},y={class:"space-y-4"},f={key:0,class:"flex justify-center items-center py-8"},x={key:1,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"},b={key:2,class:"text-center"},_=["src"],h={class:"flex justify-center gap-2"},k=["disabled"],w={key:0},L={key:1,class:"flex items-center gap-2"},j={key:3,class:"text-center py-8 text-gray-500"},C={class:"space-y-4"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},M={class:"text-sm text-gray-600 dark:text-gray-400"},F={__name:"Logo",setup(F){const I=s("Logo Management"),R=s(!1),B=s(!1),G=s(!1),N=s(""),z=s(null),A=s({logo:null}),S=[{key:"logo",type:"file",label:"Select Logo Image",required:!0,accept:"image/*",description:"Upload a logo image (JPG, PNG, GIF, WebP). Maximum file size: 5MB."}];r(()=>{E()});const E=async()=>{var e;R.value=!0,N.value="";try{const e=await t.getLogo();if(e.data){const a=new Blob([e.data],{type:e.headers["content-type"]});z.value=URL.createObjectURL(a)}}catch(a){console.error("Error loading logo:",a),404!==(null==(e=a.response)?void 0:e.status)&&(N.value="Failed to load current logo")}finally{R.value=!1}},O=async e=>{var a,l;if(e.logo){B.value=!0,N.value="";try{await t.uploadLogo(e.logo),z.value&&URL.revokeObjectURL(z.value),await E(),A.value={logo:null}}catch(o){console.error("Error uploading logo:",o),N.value=(null==(l=null==(a=o.response)?void 0:a.data)?void 0:l.message)||"Failed to upload logo"}finally{B.value=!1}}else N.value="Please select a logo image"},q=async()=>{var e,a;if(confirm("Are you sure you want to delete the current logo?")){G.value=!0,N.value="";try{await t.deleteLogo(),z.value&&(URL.revokeObjectURL(z.value),z.value=null)}catch(l){console.error("Error deleting logo:",l),N.value=(null==(a=null==(e=l.response)?void 0:e.data)?void 0:a.message)||"Failed to delete logo"}finally{G.value=!1}}},D=()=>{A.value={logo:null},N.value=""};return(t,s)=>(v(),u(a,null,{default:i(()=>[n(e,{pageTitle:I.value},null,8,["pageTitle"]),d("div",m,[n(l,{title:"Current Logo"},{default:i(()=>[d("div",y,[R.value?(v(),c("div",f,[...s[0]||(s[0]=[d("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"},null,-1)])])):N.value?(v(),c("div",x,g(N.value),1)):z.value?(v(),c("div",b,[d("img",{src:z.value,alt:"Current Logo",class:"max-w-xs max-h-32 mx-auto mb-4 rounded-lg shadow-sm"},null,8,_),d("div",h,[d("button",{onClick:q,disabled:G.value,class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 text-sm font-medium"},[G.value?(v(),c("span",L,[...s[1]||(s[1]=[d("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" Deleting... ",-1)])])):(v(),c("span",w,"Delete Logo"))],8,k)])])):(v(),c("div",j,[...s[2]||(s[2]=[d("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),d("p",null,"No logo uploaded yet",-1)])]))])]),_:1}),n(l,{title:"Upload New Logo"},{default:i(()=>[n(o,{fields:S,"initial-data":A.value,"submit-button-text":"Upload Logo","show-reset-button":!0,loading:B.value,onSubmit:O,onReset:D},null,8,["initial-data","loading"])]),_:1}),n(l,{title:"Logo Information"},{default:i(()=>[d("div",C,[d("div",P,[d("div",U,[s[3]||(s[3]=d("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Status",-1)),d("p",M,g(z.value?"Logo uploaded":"No logo uploaded"),1)]),s[4]||(s[4]=d("div",{class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},[d("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Format Support"),d("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," JPG, PNG, GIF, WebP (Max 5MB) ")],-1))])])]),_:1})])]),_:1}))}};export{F as default};
