import{d as e,r as t,o as s,j as a,k as o,q as r,b as n,c as l,n as i,t as c,B as u,e as p}from"./index-BChQAjBg.js";import{S as d}from"./SponsorsAPI-DnMhFMQQ.js";import{_ as m}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_ as y}from"./AdminLayout-BDbNDvIA.js";import{_ as f}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{D as g}from"./DataTable-D4TLCeTz.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./ErrorIcon-CRM2J8oG.js";const v={class:"space-y-5 sm:space-y-6"},b={key:0,class:"flex justify-center items-center py-12"},_={class:"w-16 h-10 overflow-hidden rounded bg-gray-200 dark:bg-gray-700"},x=["src"],h={key:1,class:"flex items-center justify-center w-full h-full text-xs text-gray-500"},k=["href"],w=e({__name:"Sponsors",setup(e){const w=u(),j=t("Sponsors"),A=t([]),S=t(!1),I=[{key:"id",title:"ID",type:"text"},{key:"image",title:"Logo",type:"custom"},{key:"name",title:"Name",type:"text"},{key:"link",title:"Website",type:"custom"},{key:"isActive",title:"Status",type:"custom"}],D=async()=>{S.value=!0;try{const e=await d.getAllSponsors({});A.value=e.data.data||e.data}catch(e){console.error("Error fetching sponsors:",e)}finally{S.value=!1}},E=()=>{w.push("/sponsors/add")},C=e=>{w.push(`/sponsors/edit/${e.id}`)},T=async e=>{if(confirm("Are you sure you want to delete this sponsor?"))try{await d.deleteSponsor(e.id),D()}catch(t){console.error("Error deleting sponsor:",t),alert("Failed to delete sponsor")}};return s(()=>{D()}),(e,t)=>(p(),a(y,null,{default:o(()=>[r(m,{pageTitle:j.value},null,8,["pageTitle"]),n("div",v,[r(f,{title:"Sponsors Management"},{default:o(()=>[n("div",{class:"mb-4 flex justify-between items-center"},[t[0]||(t[0]=n("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"All Sponsors",-1)),n("button",{onClick:E,class:"px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2"}," Add Sponsor ")]),S.value?(p(),l("div",b,[...t[1]||(t[1]=[n("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"},null,-1)])])):(p(),a(g,{key:1,columns:I,data:A.value,showActions:!0,onEdit:C,onDelete:T},{"column-image":o(({item:e})=>[n("div",_,[e.image?(p(),l("img",{key:0,src:e.image,alt:"Sponsor",class:"w-full h-full object-cover"},null,8,x)):(p(),l("span",h,"No Img"))])]),"column-link":o(({item:e})=>[n("a",{href:e.link,target:"_blank",class:"text-brand-600 hover:underline truncate block max-w-xs"},c(e.link),9,k)]),"column-isActive":o(({item:e})=>[n("span",{class:i(e.isActive?"text-green-600":"text-gray-500")},c(e.isActive?"Active":"Inactive"),3)]),_:1},8,["data"]))]),_:1})])]),_:1}))}});export{w as default};
