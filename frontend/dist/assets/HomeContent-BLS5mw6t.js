import{r as e,o as t,j as a,k as o,q as s,b as n,c as r,f as i,t as l,i as c,F as m,n as d,B as u,e as p}from"./index-BChQAjBg.js";import{_ as y}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_ as g}from"./AdminLayout-BDbNDvIA.js";import{_}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{D as h}from"./DataTable-D4TLCeTz.js";import{H as x}from"./HomeContentAPI-BYo-OVBa.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./ErrorIcon-CRM2J8oG.js";const b={class:"space-y-5 sm:space-y-6"},f={class:"space-y-1"},v={class:"font-medium text-gray-800 dark:text-white"},A={class:"text-xs text-gray-500"},C={key:0},k={class:"font-medium text-gray-800 dark:text-white"},w={class:"text-sm text-gray-500"},j={__name:"HomeContent",setup(j){const H=u(),B=e([]),E=[{key:"isActive",label:"Status",sortable:!0},{key:"sections",label:"Sections",sortable:!1},{key:"createdBy",label:"Created By",sortable:!1},{key:"createdAt",label:"Created At",sortable:!0,type:"date"},{key:"updatedAt",label:"Updated At",sortable:!0,type:"date"}],D=async()=>{try{const e=await x.getAllHomeContent();B.value=e.data.data.homeContent}catch(e){console.error("Error fetching home content:",e)}},I=()=>{H.push("/admin/home-content/add")},L=e=>{H.push(`/admin/home-content/view/${e._id}`)},M=e=>{H.push(`/admin/home-content/edit/${e._id}`)},P=async e=>{if(confirm("Are you sure you want to delete this home content?"))try{await x.deleteHomeContent(e._id),await D()}catch(t){console.error("Error deleting home content:",t),alert("Error deleting home content")}};return t(()=>{D()}),(e,t)=>(p(),a(g,null,{default:o(()=>[s(y,{pageTitle:"Home Content Management"}),n("div",b,[s(_,{title:"Home Content Management"},{default:o(()=>[n("div",{class:"mb-4 flex justify-between items-center"},[t[0]||(t[0]=n("h3",{class:"text-lg font-medium text-gray-800 dark:text-white"},"Home Content List",-1)),n("button",{onClick:I,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200"}," Add Home Content ")]),s(h,{columns:E,data:B.value,showActions:!0,onView:L,onEdit:M,onDelete:P},{"column-isActive":o(({item:e})=>[n("span",{class:d([e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 py-1 rounded-full text-xs font-medium"])},l(e.isActive?"Active":"Inactive"),3)]),"column-sections":o(({item:e})=>[n("div",f,[(p(!0),r(m,null,c(e.sections,(e,t)=>{var a;return p(),r("div",{key:t,class:"text-sm"},[n("p",v,l(e.title.en),1),n("p",A,l((null==(a=e.items)?void 0:a.length)||0)+" items",1)])}),128))])]),"column-createdBy":o(({item:e})=>[e.createdBy?(p(),r("div",C,[n("p",k,l(e.createdBy.name),1),n("p",w,l(e.createdBy.email),1)])):i("",!0)]),_:1},8,["data"])]),_:1})])]),_:1}))}};export{j as default};
