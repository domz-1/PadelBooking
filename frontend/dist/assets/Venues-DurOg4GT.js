import{d as e,r as t,o as a,j as s,k as r,q as n,b as o,c as u,t as i,B as l,e as c}from"./index-BChQAjBg.js";import{V as d}from"./VenuesAPI-CGZ_RMsu.js";import{_ as p}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_ as m}from"./AdminLayout-BDbNDvIA.js";import{_ as y}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{D as f}from"./DataTable-D4TLCeTz.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./ErrorIcon-CRM2J8oG.js";const v={class:"space-y-5 sm:space-y-6"},_={key:0,class:"flex justify-center items-center py-12"},g={class:"font-medium text-gray-900 dark:text-white"},b=e({__name:"Venues",setup(e){const b=l(),x=t("Venues"),h=t([]),j=t(!1),k=t("USD"),w=[{key:"id",title:"ID",type:"text"},{key:"name",title:"Name",type:"text"},{key:"location",title:"Location",type:"text"},{key:"pricePerHour",title:"Price/Hour",type:"custom"}],V=async()=>{j.value=!0;try{const e=await d.getAllVenues({});h.value=e.data.data||e.data}catch(e){console.error("Error fetching venues:",e)}finally{j.value=!1}},A=()=>{b.push("/venues/add")},P=e=>{b.push(`/venues/edit/${e.id}`)},D=async e=>{if(confirm("Are you sure you want to delete this venue?"))try{await d.deleteVenue(e.id),V()}catch(t){console.error("Error deleting venue:",t),alert("Failed to delete venue")}};return a(()=>{V()}),(e,t)=>(c(),s(m,null,{default:r(()=>[n(p,{pageTitle:x.value},null,8,["pageTitle"]),o("div",v,[n(y,{title:"Venues Management"},{default:r(()=>[o("div",{class:"mb-4 flex justify-between items-center"},[t[0]||(t[0]=o("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"All Venues",-1)),o("button",{onClick:A,class:"px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2"}," Add Venue ")]),j.value?(c(),u("div",_,[...t[1]||(t[1]=[o("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"},null,-1)])])):(c(),s(f,{key:1,columns:w,data:h.value,showActions:!0,onEdit:P,onDelete:D},{"column-pricePerHour":r(({item:e})=>[o("span",g,i(e.pricePerHour)+" "+i(k.value),1)]),_:1},8,["data"]))]),_:1})])]),_:1}))}});export{b as default};
