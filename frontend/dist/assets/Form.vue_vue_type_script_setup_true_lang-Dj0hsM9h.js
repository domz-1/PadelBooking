import{d as e,r,m as a,c as t,f as l,n as d,l as i,t as o,b as s,F as n,i as u,e as f,H as c,z as y,o as g,j as b,q as p,G as m}from"./index-BChQAjBg.js";const k=["for"],h={key:0,class:"text-red-500"},v=["id","type","value","placeholder","disabled","readonly","required","min","max","step","minlength","maxlength","autocomplete"],x=["id","value","placeholder","rows","cols","disabled","readonly","required","maxlength","minlength","autocomplete"],w={key:3,class:"relative z-20 bg-transparent"},C=["id","value","disabled","required","multiple","autocomplete"],$={key:0,value:"",disabled:"",class:"text-gray-500 dark:text-gray-400"},D=["value","disabled"],q={key:4,class:"flex items-center"},B=["id","checked","disabled","required"],L=["for"],A={key:5,class:"flex items-center"},I=["for"],z=["id","checked","disabled","required"],j={key:0,class:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-400"},M={key:6,class:"space-y-2"},F=["id","name","value","checked","disabled","required"],O=["for"],E={key:7,class:"relative"},R=["for"],T={class:"truncate"},H=["id","accept","multiple","capture","disabled","required"],S={key:8,class:"relative"},U=["id","value","disabled","required"],_={key:9,class:"relative"},V=["id","value","min","max","step","disabled","required"],N={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},P={key:10,class:"mt-1.5 text-xs"},G={key:0,class:"text-red-600"},J={key:1,class:"text-green-600"},K={key:2,class:"text-gray-500"},Q={key:3,class:"text-gray-500"},W={key:0,class:"text-red-500"},X=e({__name:"FormField",props:{field:{},formData:{},showLabel:{type:Boolean,default:!0},fieldError:{}},emits:["update"],setup(e,{emit:c}){const y=r(0),g=e,b=c,p=a(()=>`field-${g.field.key}`),m=a(()=>g.fieldError||null),X=a(()=>["text","email","password","number","tel","url","search","date","time","datetime"].includes(g.field.type)),Y=a(()=>{var e,r;return("text"===g.field.type||"textarea"===g.field.type)&&((null==(e=g.field.validation)?void 0:e.maxLength)||(null==(r=g.field.validation)?void 0:r.minLength)||g.field.maxlength||g.field.minlength)}),Z=a(()=>{const e=g.formData[g.field.key];return e&&"string"==typeof e?e.length:0}),ee=e=>{const r=e.target;let a=r.value;"number"===g.field.type&&(a=""===r.value?null:Number(r.value)),b("update",g.field.key,a)},re=e=>{const r=e.target;let a=r.value;g.field.multiple&&(a=Array.from(r.selectedOptions).map(e=>e.value)),b("update",g.field.key,a)},ae=e=>{const r=e.target;b("update",g.field.key,r.checked)},te=e=>{const r=e.target;b("update",g.field.key,r.value)},le=e=>{const r=e.target.files;if(g.field.multiple){const e=[...g.formData[g.field.key]||[],...r?Array.from(r):[]];b("update",g.field.key,e)}else b("update",g.field.key,r&&r.length>0?r[0]:null)},de=()=>{b("update",g.field.key,[]),y.value++},ie=()=>{b("update",g.field.key,null),y.value++};return(r,a)=>{var c,g,b,oe,se,ne;return e.field.hidden?l("",!0):(f(),t("div",{key:0,class:d(e.field.fieldClass)},[e.field.label&&e.showLabel?(f(),t("label",{key:0,for:p.value,class:d(["mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",[e.field.labelClass,{"text-red-600":e.field.error||m.value,"text-green-600":e.field.success,"cursor-not-allowed":e.field.disabled}]])},[i(o(e.field.label)+" ",1),e.field.required?(f(),t("span",h,"*")):l("",!0)],10,k)):l("",!0),X.value?(f(),t("input",{key:1,id:p.value,type:e.field.type,value:e.formData[e.field.key],onInput:ee,placeholder:e.field.placeholder,disabled:e.field.disabled,readonly:e.field.readonly,required:e.field.required,min:e.field.min,max:e.field.max,step:e.field.step,minlength:(null==(c=e.field.validation)?void 0:c.minLength)||e.field.minlength,maxlength:(null==(g=e.field.validation)?void 0:g.maxLength)||e.field.maxlength,autocomplete:e.field.autocomplete||"off",class:d(["dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",[e.field.inputClass,{"cursor-not-allowed bg-gray-50 dark:bg-gray-800":e.field.disabled,"border-red-500 focus:border-red-500 focus:ring-red-500/10":e.field.error||m.value,"border-green-500 focus:border-green-500 focus:ring-green-500/10":e.field.success,"border-brand-300 focus:border-brand-300 focus:ring-brand-500/10":!e.field.error&&!m.value&&!e.field.success}]])},null,42,v)):"textarea"===e.field.type?(f(),t("textarea",{key:2,id:p.value,value:e.formData[e.field.key],onInput:ee,placeholder:e.field.placeholder,rows:e.field.rows||4,cols:e.field.cols,disabled:e.field.disabled,readonly:e.field.readonly,required:e.field.required,maxlength:(null==(b=e.field.validation)?void 0:b.maxLength)||e.field.maxlength,minlength:(null==(oe=e.field.validation)?void 0:oe.minLength)||e.field.minlength,autocomplete:e.field.autocomplete||"off",class:d(["dark:bg-dark-900 w-full rounded-lg border bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",[e.field.inputClass,{"cursor-not-allowed bg-gray-50 dark:bg-gray-800":e.field.disabled,"border-red-500 focus:border-red-500 focus:ring-red-500/10":e.field.error||m.value,"border-green-500 focus:border-green-500 focus:ring-green-500/10":e.field.success,"border-brand-300 focus:border-brand-300 focus:ring-brand-500/10":!e.field.error&&!m.value&&!e.field.success,"resize-none":!1===e.field.resizable,"resize-vertical":!1!==e.field.resizable&&"vertical"===e.field.resizeDirection,"resize-horizontal":!1!==e.field.resizable&&"horizontal"===e.field.resizeDirection,resize:!1!==e.field.resizable&&"both"===e.field.resizeDirection}]])},null,42,x)):"select"===e.field.type?(f(),t("div",w,[s("select",{id:p.value,value:e.formData[e.field.key],onChange:re,disabled:e.field.disabled,required:e.field.required,multiple:e.field.multiple,autocomplete:e.field.autocomplete||"off",class:d(["dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",[e.field.inputClass,{"text-gray-800 dark:text-white/90":e.formData[e.field.key],"cursor-not-allowed bg-gray-50 dark:bg-gray-800":e.field.disabled,"border-red-500 focus:border-red-500 focus:ring-red-500/10":e.field.error||m.value,"border-green-500 focus:border-green-500 focus:ring-green-500/10":e.field.success,"border-brand-300 focus:border-brand-300 focus:ring-brand-500/10":!e.field.error&&!m.value&&!e.field.success}]])},[e.field.placeholder?(f(),t("option",$,o(e.field.placeholder),1)):l("",!0),(f(!0),t(n,null,u(e.field.options,e=>(f(),t("option",{key:e.value,value:e.value,disabled:e.disabled,class:"text-gray-700 dark:bg-gray-900 dark:text-gray-400"},o(e.label),9,D))),128))],42,C),a[0]||(a[0]=s("span",{class:"absolute z-30 text-gray-700 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[s("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])):"checkbox"===e.field.type?(f(),t("div",q,[s("input",{id:p.value,type:"checkbox",checked:e.formData[e.field.key],onChange:ae,disabled:e.field.disabled,required:e.field.required,class:"w-4 h-4 text-brand-600 bg-gray-100 border-gray-300 rounded focus:ring-brand-500 dark:focus:ring-brand-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,B),e.field.label?(f(),t("label",{key:0,for:p.value,class:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-400"},o(e.field.label),9,L)):l("",!0)])):"switch"===e.field.type?(f(),t("div",A,[s("label",{for:p.value,class:"relative inline-flex items-center cursor-pointer"},[s("input",{id:p.value,type:"checkbox",checked:e.formData[e.field.key],onChange:ae,disabled:e.field.disabled,required:e.field.required,class:"sr-only peer"},null,40,z),a[1]||(a[1]=s("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-300 dark:peer-focus:ring-brand-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-brand-600"},null,-1)),e.field.label?(f(),t("span",j,o(e.field.label),1)):l("",!0)],8,I)])):"radio"===e.field.type&&e.field.options?(f(),t("div",M,[(f(!0),t(n,null,u(e.field.options,r=>(f(),t("div",{key:r.value,class:"flex items-center"},[s("input",{id:`${p.value}-${r.value}`,type:"radio",name:e.field.key,value:r.value,checked:e.formData[e.field.key]===r.value,onChange:te,disabled:e.field.disabled||r.disabled,required:e.field.required,class:"w-4 h-4 text-brand-600 bg-gray-100 border-gray-300 focus:ring-brand-500 dark:focus:ring-brand-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,F),s("label",{for:`${p.value}-${r.value}`,class:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-400"},o(r.label),9,O)]))),128))])):"file"===e.field.type?(f(),t("div",E,[s("label",{for:p.value,class:d(["flex items-center justify-center w-full px-4 py-3 text-sm font-medium text-gray-700 bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-100 hover:border-brand-300 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-brand-600 transition-all duration-200",[e.field.inputClass,{"cursor-not-allowed opacity-60":e.field.disabled,"border-red-400 dark:border-red-500":e.field.error||m.value,"border-green-400 dark:border-green-500":e.field.success,"border-brand-300 dark:border-brand-600":!e.field.error&&!m.value&&!e.field.success}]])},[a[2]||(a[2]=s("svg",{class:"w-5 h-5 mr-2 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-4-4V7a4 4 0 014-4h10a4 4 0 014 4v5a4 4 0 01-4 4H7z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v6m0 0l-3-3m3 3l3-3"})],-1)),s("span",T,o(e.formData[e.field.key]?Array.isArray(e.formData[e.field.key])?`${e.formData[e.field.key].length} file(s) selected`:e.formData[e.field.key].name:e.field.placeholder||"Choose file(s)..."),1)],10,R),(f(),t("input",{id:p.value,type:"file",onChange:le,accept:e.field.accept,multiple:e.field.multiple,capture:e.field.capture,disabled:e.field.disabled,required:e.field.required,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",key:y.value},null,40,H)),!e.field.multiple&&e.formData[e.field.key]?(f(),t("button",{key:0,type:"button",onClick:ie,class:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500 transition-colors duration-200",title:"Clear selected file"},[...a[3]||(a[3]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):l("",!0),e.field.multiple&&e.formData[e.field.key]&&Array.isArray(e.formData[e.field.key])&&e.formData[e.field.key].length>0?(f(),t("button",{key:1,type:"button",onClick:de,class:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500 transition-colors duration-200",title:"Clear selected files"},[...a[4]||(a[4]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):l("",!0)])):"color"===e.field.type?(f(),t("div",S,[s("input",{id:p.value,type:"color",value:e.formData[e.field.key],onInput:ee,disabled:e.field.disabled,required:e.field.required,class:d(["w-16 h-11 rounded-lg border border-gray-300 bg-transparent cursor-pointer dark:border-gray-700",e.field.inputClass])},null,42,U)])):"range"===e.field.type?(f(),t("div",_,[s("input",{id:p.value,type:"range",value:e.formData[e.field.key],onInput:ee,min:e.field.min,max:e.field.max,step:e.field.step,disabled:e.field.disabled,required:e.field.required,class:d(["w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",e.field.inputClass])},null,42,V),e.field.showValue?(f(),t("div",N,o(e.formData[e.field.key]),1)):l("",!0)])):l("",!0),e.field.error||e.field.success||e.field.hint||m.value||Y.value?(f(),t("div",P,[e.field.error||m.value?(f(),t("p",G,o(e.field.errorMessage||m.value),1)):e.field.success?(f(),t("p",J,o(e.field.successMessage),1)):e.field.hint?(f(),t("p",K,o(e.field.hint),1)):Y.value?(f(),t("p",Q,[i(o(Z.value)+"/"+o((null==(se=e.field.validation)?void 0:se.maxLength)||e.field.maxlength||"âˆž")+" characters ",1),(null==(ne=e.field.validation)?void 0:ne.minLength)&&Z.value<e.field.validation.minLength?(f(),t("span",W,"(minimum "+o(e.field.validation.minLength)+")",1)):l("",!0)])):l("",!0)])):l("",!0)],2))}}}),Y={key:0,class:"space-y-4"},Z={class:"flex items-center justify-between mb-4"},ee={key:0,class:"text-lg font-semibold text-gray-800 dark:text-white"},re={key:1,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},ae=["onClick"],te={class:"space-y-4"},le={class:"flex items-center justify-between mb-4"},de={class:"font-medium text-gray-700 dark:text-gray-300"},ie=["onClick"],oe={key:0,class:"text-center py-12 text-gray-500 dark:text-gray-400 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg"},se={class:"mt-2"},ne={key:1,class:"space-y-4"},ue={key:0,class:"text-lg font-semibold text-gray-800 dark:text-white"},fe={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},ce={key:0,class:"flex items-center gap-4 pt-4 border-t border-gray-200 dark:border-gray-700"},ye=["disabled"],ge={key:0,class:"flex items-center gap-2"},be={key:0,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},pe={key:1,class:"flex items-center gap-2"},me=["disabled"],ke=e({__name:"Form",props:{fields:{},initialData:{},showSubmitButton:{type:Boolean,default:!0},submitButtonText:{},submitButtonClass:{},showResetButton:{type:Boolean,default:!1},resetButtonText:{},resetButtonClass:{},loading:{type:Boolean,default:!1},loadingText:{},disabled:{type:Boolean,default:!1},validateOnSubmit:{type:Boolean,default:!0},validateOnChange:{type:Boolean,default:!1}},emits:["submit","reset","change","error","arrayItemAdd","arrayItemRemove"],setup(e,{expose:a,emit:k}){const h=e,v=k,x=c({}),w=r({}),C=()=>{const e={},r=(a,t="")=>{a.forEach(a=>{const l=t?`${t}.${a.key}`:a.key;if("group"===a.type&&a.fields)t||(e[a.key]=$(h.initialData,a.key)||{}),r(a.fields,a.key);else if("array"===a.type){const r=$(h.initialData,a.key);console.log(`Form: Processing array field ${a.key}, value:`,r),Array.isArray(r)&&r.length>0?e[a.key]=r:e[a.key]=[]}else if(a.key){const r=$(h.initialData,l);D(e,l,void 0!==r?r:q(a))}})};r(h.fields),Object.assign(x,e)},$=(e,r)=>{if(e)return r.split(".").reduce((e,r)=>null==e?void 0:e[r],e)},D=(e,r,a)=>{const t=r.split("."),l=t.pop();t.reduce((e,r)=>(e[r]||(e[r]={}),e[r]),e)[l]=a},q=e=>{switch(e.type){case"checkbox":case"switch":return!1;case"select":return e.multiple?[]:"";case"file":return e.multiple?[]:null;case"number":case"range":return e.min||0;case"array":return[];default:return""}},B=e=>{const r=z(e);if(!r||"array"!==r.type)return;if(r.maxItems&&x[e].length>=r.maxItems)return;const a={};r.defaultItemData?Object.assign(a,r.defaultItemData):r.fields&&r.fields.forEach(e=>{a[e.key]=q(e)}),x[e].push(a),v("arrayItemAdd",e,x[e].length-1),v("change",e,x[e],{...x})},L=(e,r)=>{const a=z(e);a&&"array"===a.type&&(a.minItems&&x[e].length<=a.minItems||(x[e].splice(r,1),v("arrayItemRemove",e,r),v("change",e,x[e],{...x})))},A=(e,r)=>{x[e]=r,v("change",e,r,{...x}),h.validateOnChange&&I(e,r)},I=(e,r)=>{const a=z(e);if(!a)return null;if(("function"==typeof a.required?a.required():a.required)&&(""===r||null==r||Array.isArray(r)&&0===r.length||"file"===a.type&&(!r||Array.isArray(r)&&0===r.length)))return`${a.label||e} is required`;if(!a.validation)return null;const{validation:t}=a;if("number"===a.type&&"number"==typeof r){if(void 0!==t.min&&r<t.min)return`${a.label||e} must be at least ${t.min}`;if(void 0!==t.max&&r>t.max)return`${a.label||e} must be at most ${t.max}`}if("string"==typeof r){if(t.minLength&&r.length<t.minLength)return`${a.label||e} must be at least ${t.minLength} characters`;if(t.maxLength&&r.length>t.maxLength)return`${a.label||e} must be at most ${t.maxLength} characters`}if(t.pattern){if(!("string"==typeof t.pattern?new RegExp(t.pattern):t.pattern).test(r))return`${a.label||e} format is invalid`}if(t.custom){const l=t.custom(r);if("string"==typeof l)return l;if(!l)return`${a.label||e} is invalid`}return null},z=e=>{const r=a=>{for(const t of a)if("group"===t.type&&t.fields){if(t.key===e)return t;const a=r(t.fields);if(a)return a}else if("array"===t.type&&t.fields){if(t.key===e)return t;const a=r(t.fields);if(a)return a}else if(t.key===e)return t;return null};return r(h.fields)},j=()=>{const e={},r=(a,t="")=>{a.forEach(a=>{var l;if("group"===a.type&&a.fields)r(a.fields,a.key);else if("array"===a.type&&a.fields){const r=I(a.key,x[a.key]);r&&(e[a.key]=r),Array.isArray(x[a.key])&&x[a.key].forEach((r,t)=>{var l;null==(l=a.fields)||l.forEach(l=>{const d=I(l.key,r[l.key]);d&&(e[`${a.key}[${t}].${l.key}`]=d)})})}else if(a.key){const r=t?`${t}.${a.key}`:a.key,d=t?null==(l=x[t])?void 0:l[a.key]:x[a.key],i=I(a.key,d);i&&(e[r]=i)}})};return r(h.fields),w.value=e,!(Object.keys(e).length>0)||(v("error",e),!1)},M=()=>{h.validateOnSubmit&&!j()||v("submit",{...x})},F=()=>{C(),w.value={},v("reset")};return y(()=>h.initialData,()=>{console.log("Form: initialData changed:",h.initialData),C()},{deep:!0}),g(()=>{console.log("Form: Component mounted, initialData:",h.initialData),C()}),a({formData:x,errors:w,validateForm:j,resetForm:F,updateField:A,addArrayItem:B,removeArrayItem:L}),(r,a)=>(f(),t("form",{onSubmit:m(M,["prevent"]),class:"space-y-6 w-full"},[(f(!0),t(n,null,u(e.fields,(e,r)=>{var i;return f(),t("div",{key:e.key||`field-${r}`,class:"space-y-4"},["array"!==e.type||e.hidden?"group"!==e.type||e.hidden?e.hidden?l("",!0):(f(),b(X,{key:2,field:e,"form-data":x,"field-error":w.value[e.key],onUpdate:A},null,8,["field","form-data","field-error"])):(f(),t("div",ne,[e.label?(f(),t("h3",ue,o(e.label),1)):l("",!0),e.description?(f(),t("p",fe,o(e.description),1)):l("",!0),s("div",{class:d(e.groupClass||"grid grid-cols-1 gap-4")},[(f(!0),t(n,null,u(e.fields,(r,a)=>{return f(),t("div",{key:r.key||`subfield-${a}`},[p(X,{field:r,"form-data":(l=e.key,x[l]||{}),onUpdate:(r,a)=>((e,r,a)=>{x[e]||(x[e]={}),x[e][r]=a,v("change",`${e}.${r}`,a,{...x}),h.validateOnChange&&I(`${e}.${r}`,a)})(e.key,r,a)},null,8,["field","form-data","onUpdate"])]);var l}),128))],2)])):(f(),t("div",Y,[s("div",Z,[s("div",null,[e.label?(f(),t("h3",ee,o(e.label),1)):l("",!0),e.description?(f(),t("p",re,o(e.description),1)):l("",!0)]),!1!==e.allowAdd&&(!e.maxItems||(null==(i=x[e.key])?void 0:i.length)<e.maxItems)?(f(),t("button",{key:0,type:"button",onClick:r=>B(e.key),class:d(e.addButtonClass||"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 text-sm font-medium")},o(e.addButtonText||"+ Add"),11,ae)):l("",!0)]),s("div",te,[(f(!0),t(n,null,u(x[e.key],(r,a)=>(f(),t("div",{key:`${e.key}-${a}`,class:d(e.itemContainerClass||"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 relative")},[s("div",le,[s("h4",de,o(e.itemLabel||e.label||"Item")+" #"+o(a+1),1),!1!==e.allowRemove&&(!e.minItems||x[e.key].length>e.minItems)?(f(),t("button",{key:0,type:"button",onClick:r=>L(e.key,a),class:d(e.removeButtonClass||"px-3 py-1.5 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors duration-200 text-sm font-medium")},o(e.removeButtonText||"Remove"),11,ie)):l("",!0)]),s("div",{class:d(e.groupClass||"grid grid-cols-1 gap-4")},[(f(!0),t(n,null,u(e.fields,(l,d)=>(f(),t("div",{key:`${l.key}-${a}-${d}`},[p(X,{field:l,"form-data":r,onUpdate:(r,t)=>((e,r,a,t)=>{x[e]&&x[e][r]&&(x[e][r][a]=t,v("change",`${e}[${r}].${a}`,t,{...x}),h.validateOnChange&&I(a,t))})(e.key,a,r,t)},null,8,["field","form-data","onUpdate"])]))),128))],2)],2))),128)),x[e.key]&&0!==x[e.key].length?l("",!0):(f(),t("div",oe,[a[0]||(a[0]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),s("p",se,o(e.emptyMessage||"No items added yet"),1)]))])]))])}),128)),e.showSubmitButton?(f(),t("div",ce,[s("button",{type:"submit",disabled:e.loading||e.disabled,class:d([e.submitButtonClass||"px-6 py-2.5 bg-brand-500 text-white rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 font-medium",e.loading&&"opacity-75 cursor-not-allowed"])},[e.loading?(f(),t("span",pe,[a[2]||(a[2]=s("svg",{class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),i(" "+o(e.loadingText||"Processing..."),1)])):(f(),t("span",ge,[e.loading?l("",!0):(f(),t("svg",be,[...a[1]||(a[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),i(" "+o(e.submitButtonText||"Submit"),1)]))],10,ye),e.showResetButton?(f(),t("button",{key:0,type:"button",onClick:F,disabled:e.loading,class:d(e.resetButtonClass||"px-6 py-2.5 bg-gray-500 text-white rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed")},o(e.resetButtonText||"Reset"),11,me)):l("",!0)])):l("",!0)],32))}});export{ke as _};
