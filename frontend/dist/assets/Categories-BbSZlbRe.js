import{r as e,o as t,j as a,k as r,q as o,b as s,t as i,B as l,e as n}from"./index-BChQAjBg.js";import{_ as u}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_ as c}from"./AdminLayout-BDbNDvIA.js";import{_ as g}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{D as m}from"./DataTable-D4TLCeTz.js";import{L as d}from"./LazyImage-BMawgtWq.js";import{C as p}from"./CategoriesAPI-CbxhYl7H.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./ErrorIcon-CRM2J8oG.js";const y={class:"space-y-5 sm:space-y-6"},_={class:"font-medium text-gray-800 dark:text-white"},f={class:"text-sm text-gray-500 dark:text-gray-400"},h={__name:"Categories",setup(h){const x=l(),w=e("Categories"),v=e([]),C=[{key:"Image",title:"Image",type:"text",widthClass:"w-20"},{key:"name",title:"Name"},{key:"slug",title:"Slug"},{key:"createdAt",title:"Created At"}],b=async()=>{try{const e=await p.getAllCategories();v.value=e.data.data.categories}catch(e){console.error("Error fetching categories:",e)}},j=()=>{x.push("/categories/edit/new")},k=e=>{x.push(`/categories/view/${e._id}`)},A=e=>{x.push(`/categories/edit/${e._id}`)},I=async e=>{if(confirm("Are you sure you want to delete this category?"))try{await p.deleteCategory(e._id,localStorage.getItem("token")),await b()}catch(t){console.error("Error deleting category:",t)}};return t(()=>{b()}),(e,t)=>(n(),a(c,null,{default:r(()=>[o(u,{pageTitle:w.value},null,8,["pageTitle"]),s("div",y,[o(g,{title:"Categories Management"},{default:r(()=>[s("div",{class:"mb-4 flex justify-between items-center"},[t[0]||(t[0]=s("h3",{class:"text-lg font-medium text-gray-800 dark:text-white"},"Categories List",-1)),s("button",{onClick:j,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200"}," Add Category ")]),o(m,{columns:C,data:v.value,showActions:!0,onView:k,onEdit:A,onDelete:I},{"column-Image":r(({item:e})=>[o(d,{"image-id":e.Image,alt:e.name.en,width:"60px",height:"60px","image-class":"w-full h-full object-cover rounded-full",placeholder:"/placeholder-category.png"},null,8,["image-id","alt"])]),"column-name":r(({item:e})=>[s("div",null,[s("p",_,i(e.name.en),1),s("p",f,i(e.name.ar),1)])]),_:1},8,["data"])]),_:1})])]),_:1}))}};export{h as default};
