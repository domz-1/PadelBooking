import{a as e,m as t,C as a,r as l,o as r,j as s,k as d,q as i,b as o,c as n,f as u,t as g,n as c,F as v,i as x,y,w as m,E as p,G as b,T as f,l as k,B as h,e as w}from"./index-BChQAjBg.js";import{_ as C}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_}from"./AdminLayout-BDbNDvIA.js";import{_ as j}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{L as A}from"./LazyImage-BMawgtWq.js";import{P}from"./ProductsAPI-MABK5z0-.js";import{_ as R}from"./_plugin-vue_export-helper-BCo6x5W8.js";const I=async(t,a={})=>e.get(`/ratings/product/${t}`,{params:a}),S=async t=>e.delete(`/ratings/${t}`),D=async(t,a)=>e.patch(`/ratings/${t}/visibility`,{isHidden:a}),H={class:"space-y-6 sm:space-y-8 p-4 sm:p-6"},N={key:0,class:"text-center py-12 animate-pulse"},E={key:1,class:"text-center py-12 bg-red-50 dark:bg-red-900/20 rounded-lg"},F={class:"text-lg font-medium text-red-600 dark:text-red-400"},T={key:2,class:"space-y-6 sm:space-y-8"},B={class:"flex flex-col md:flex-row md:items-start md:justify-between gap-6"},V={class:"flex flex-col sm:flex-row items-center gap-6"},$={class:"text-center sm:text-left"},L={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},M={class:"mt-1 text-lg text-gray-600 dark:text-gray-400"},U={class:"flex items-center gap-3 mt-3"},z={key:0,class:"px-4 py-1.5 text-sm font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 rounded-full"},O={class:"flex flex-col sm:flex-row gap-3"},q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},G={class:"space-y-6"},Q={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},J={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},K={class:"mt-1 text-lg font-bold text-brand-600 dark:text-brand-400"},W={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},X={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Y={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},Z={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},ee={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},te={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},ae={class:"flex items-center gap-3 mt-1"},le={class:"flex items-center"},re={class:"text-gray-600 dark:text-gray-300"},se={class:"space-y-6"},de={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},ie={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ne={class:"text-gray-700 dark:text-gray-300 leading-relaxed prose dark:prose-invert"},ue={class:"text-gray-700 dark:text-gray-300 leading-relaxed prose dark:prose-invert"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ce={class:"flex flex-wrap gap-3"},ve={key:0,class:"text-gray-500 dark:text-gray-400"},xe={class:"flex flex-wrap gap-3"},ye={key:0,class:"text-gray-500 dark:text-gray-400"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},pe={class:"flex flex-wrap gap-3"},be={key:0,class:"text-gray-500 dark:text-gray-400"},fe={class:"flex flex-wrap gap-3"},ke={key:0,class:"text-gray-500 dark:text-gray-400"},he={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},we=["onClick"],Ce={class:"space-y-6"},_e={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6 rounded-lg"},je={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ae={class:"text-center"},Pe={class:"text-4xl font-bold text-blue-600 dark:text-blue-400"},Re={class:"flex justify-center items-center mt-2"},Ie={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Se={class:"col-span-2"},De={class:"space-y-2"},He={class:"text-sm font-medium w-8"},Ne={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Ee={class:"text-sm text-gray-600 dark:text-gray-400 w-12"},Fe={class:"flex justify-between items-center mb-4"},Te={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Be={class:"flex gap-2"},Ve={key:0,class:"text-center py-8"},$e={key:1,class:"space-y-4"},Le={class:"flex justify-between items-start mb-3"},Me={class:"flex items-center gap-3"},Ue={class:"w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center"},ze={class:"text-sm font-medium"},Oe={class:"font-medium text-gray-900 dark:text-gray-100"},qe={class:"flex items-center gap-2"},Ge={class:"flex text-yellow-400"},Qe={class:"text-xs text-gray-500 dark:text-gray-400"},Je={key:0,class:"px-2 py-0.5 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 text-xs rounded-full"},Ke={class:"flex items-center gap-2"},We={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Xe=["onClick"],Ye=["onClick"],Ze={key:0,class:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed"},et={key:1,class:"mt-2 px-3 py-1 bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 text-xs rounded"},tt={key:2,class:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},at={key:3,class:"flex justify-center mt-6"},lt={class:"flex gap-2"},rt=["onClick"],st={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},dt={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full shadow-xl"},it={class:"mt-6 flex justify-end gap-3"},ot={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},nt={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full shadow-xl"},ut={class:"mt-2 text-gray-600 dark:text-gray-300"},gt={class:"mt-6 flex justify-end gap-3"},ct=R({__name:"ViewProduct",setup(e){const R=a(),ct=h(),vt=t(()=>R.params.id),xt=l(!1),yt=l(""),mt=l(null),pt=l(!1),bt=l(""),ft=l(!1),kt=l([]),ht=l(null),wt=l(!1),Ct=l("createdAt"),_t=l({page:1,limit:10,total:0,pages:1}),jt=l(!1),At=l(null),Pt=t(()=>{var e;return mt.value?`Product: ${null==(e=mt.value.title)?void 0:e.en}`:"Product Details"}),Rt=t(()=>{var e,t;return{"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":null==(e=mt.value)?void 0:e.isActive,"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":!(null==(t=mt.value)?void 0:t.isActive)}}),It=t(()=>{var e,t;return{"text-green-600 dark:text-green-400 font-semibold":null==(e=mt.value)?void 0:e.isInStock,"text-red-600 dark:text-red-400 font-semibold":!(null==(t=mt.value)?void 0:t.isInStock)}}),St=async()=>{var e,t,a,l;xt.value=!0,yt.value="";try{const a=await P.getProductById(vt.value);(null==(t=null==(e=a.data)?void 0:e.data)?void 0:t.product)&&(mt.value=a.data.data.product)}catch(r){yt.value=(null==(l=null==(a=r.response)?void 0:a.data)?void 0:l.message)||"Failed to load product details",console.error("Error loading product:",r)}finally{xt.value=!1}},Dt=async()=>{try{const e=!mt.value.isActive;await P.updateProductStatus(vt.value,e),mt.value.isActive=e}catch(e){yt.value="Failed to update product status",console.error("Error updating product status:",e)}},Ht=()=>{ct.push(`/products/edit/${vt.value}`)},Nt=async()=>{var e,t;try{await P.deleteProduct(vt.value),ct.push("/products")}catch(a){yt.value=(null==(t=null==(e=a.response)?void 0:e.data)?void 0:t.message)||"Failed to delete product",console.error("Error deleting product:",a)}finally{ft.value=!1}},Et=e=>{bt.value=e,pt.value=!0},Ft=e=>{var t;return(null==(t=ht.value)?void 0:t.totalRatings)&&0!==ht.value.totalRatings?ht.value.distribution[e]/ht.value.totalRatings*100:0},Tt=async(e=1)=>{var t;wt.value=!0;try{const a=await I(vt.value,{page:e,limit:_t.value.limit,sortBy:Ct.value,sortOrder:(Ct.value,"desc")});"success"===(null==(t=a.data)?void 0:t.status)&&(kt.value=a.data.data.ratings||[],ht.value=a.data.data.stats||null,_t.value=a.data.data.pagination||_t.value)}catch(a){console.error("Error loading ratings:",a),yt.value="Failed to load ratings"}finally{wt.value=!1}},Bt=async()=>{var e,t;if(At.value)try{await S(At.value._id),await Promise.all([Tt(_t.value.page),St()]),jt.value=!1,At.value=null}catch(a){console.error("Error deleting rating:",a),yt.value=(null==(t=null==(e=a.response)?void 0:e.data)?void 0:t.message)||"Failed to delete rating"}};return r(async()=>{await St(),await Tt()}),(e,t)=>(w(),s(_,null,{default:d(()=>{var e;return[i(C,{pageTitle:Pt.value},null,8,["pageTitle"]),o("div",H,[xt.value?(w(),n("div",N,[...t[8]||(t[8]=[o("div",{class:"inline-flex items-center justify-center h-12 w-12 rounded-full bg-brand-100"},[o("svg",{class:"h-8 w-8 text-brand-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v16h16V4H4zm0-2h16a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z"})])],-1),o("p",{class:"mt-4 text-lg text-gray-500 dark:text-gray-400"},"Loading product details...",-1)])])):yt.value?(w(),n("div",E,[o("p",F,g(yt.value),1),o("button",{onClick:St,class:"mt-4 px-6 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors duration-200 shadow-md"}," Retry ")])):mt.value?(w(),n("div",T,[i(j,{title:"Product Overview",class:"shadow-lg"},{default:d(()=>{var e,a,l;return[o("div",B,[o("div",V,[o("div",{class:"relative w-32 h-32 bg-gray-100 dark:bg-gray-800 rounded-2xl flex items-center justify-center shadow-md overflow-hidden transition-transform duration-300 hover:scale-105 cursor-pointer",onClick:t[0]||(t[0]=e=>Et(mt.value.imgCover))},[i(A,{"image-id":mt.value.imgCover,alt:null==(e=mt.value.title)?void 0:e.en,width:"100%",height:"100%","image-class":"w-full h-full object-cover rounded-2xl",placeholder:"/placeholder-product.png"},null,8,["image-id","alt"])]),o("div",$,[o("h2",L,g(null==(a=mt.value.title)?void 0:a.en),1),o("p",M,g(null==(l=mt.value.title)?void 0:l.ar),1),o("div",U,[o("span",{class:c([Rt.value,"px-4 py-1.5 text-sm font-medium rounded-full cursor-pointer hover:opacity-80 transition-opacity"]),onClick:Dt},g(mt.value.isActive?"Active":"Inactive"),3),mt.value.isFeatured?(w(),n("span",z," Featured ")):u("",!0)])])]),o("div",O,[o("button",{onClick:Ht,class:"px-6 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors duration-200 shadow-md"}," Edit Product "),o("button",{onClick:t[1]||(t[1]=e=>ft.value=!0),class:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 shadow-md"}," Delete Product ")])])]}),_:1}),o("div",q,[i(j,{title:"Basic Information",class:"shadow-lg"},{default:d(()=>[o("div",G,[o("div",Q,[o("div",null,[t[9]||(t[9]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Product Code",-1)),o("p",J,g(mt.value.productCode),1)]),o("div",null,[t[10]||(t[10]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Price",-1)),o("p",K,"$"+g(mt.value.price),1),t[11]||(t[11]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Price Before Offer",-1)),o("p",W,"$"+g(mt.value.priceBeforeOffer||"N/A"),1)])]),o("div",X,[o("div",null,[t[12]||(t[12]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Quantity",-1)),o("p",Y,g(mt.value.quantity),1)]),o("div",null,[t[13]||(t[13]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Sold",-1)),o("p",Z,g(mt.value.sold),1)])]),o("div",ee,[o("div",null,[t[14]||(t[14]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Times Sold",-1)),o("p",te,g(mt.value.timesSold),1)]),o("div",null,[t[15]||(t[15]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Stock Status",-1)),o("p",{class:c(["mt-1 text-lg",It.value])},g(mt.value.isInStock?"In Stock":"Out of Stock"),3)])]),o("div",null,[t[16]||(t[16]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Rating",-1)),o("div",ae,[o("div",le,[(w(),n(v,null,x(5,e=>o("span",{key:e,class:"text-2xl text-yellow-400 transition-transform duration-200 hover:scale-110"},g(e<=Math.floor(mt.value.ratingAvg)?"★":"☆"),1)),64))]),o("span",re,g(mt.value.ratingAvg)+" ("+g(mt.value.ratingCount)+" reviews)",1)])])])]),_:1}),i(j,{title:"Categories",class:"shadow-lg"},{default:d(()=>{var e,a,l,r,s,d;return[o("div",se,[o("div",null,[t[17]||(t[17]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Category",-1)),o("p",de,g((null==(a=null==(e=mt.value.category)?void 0:e.name)?void 0:a.en)||(null==(l=mt.value.category)?void 0:l.name)||"N/A"),1)]),o("div",null,[t[18]||(t[18]=o("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Subcategory",-1)),o("p",ie,g((null==(s=null==(r=mt.value.subcategory)?void 0:r.name)?void 0:s.en)||(null==(d=mt.value.subcategory)?void 0:d.name)||"N/A"),1)])])]}),_:1})]),i(j,{title:"Product Descriptions",class:"shadow-lg"},{default:d(()=>{var e,a;return[o("div",oe,[o("div",null,[t[19]||(t[19]=o("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"},"English Description ",-1)),o("p",ne,g(null==(e=mt.value.description)?void 0:e.en),1)]),o("div",null,[t[20]||(t[20]=o("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"},"Arabic Description ",-1)),o("p",ue,g(null==(a=mt.value.description)?void 0:a.ar),1)])])]}),_:1}),i(j,{title:"Tags",class:"shadow-lg"},{default:d(()=>{var e,a,l,r,s,d;return[o("div",ge,[o("div",null,[t[21]||(t[21]=o("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"},"English Tags",-1)),o("div",ce,[(w(!0),n(v,null,x(null==(e=mt.value.tags)?void 0:e.en,e=>(w(),n("span",{key:e,class:"px-4 py-1.5 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 text-sm font-medium rounded-full transition-transform duration-200 hover:scale-105"},g(e),1))),128)),(null==(l=null==(a=mt.value.tags)?void 0:a.en)?void 0:l.length)?u("",!0):(w(),n("span",ve,"No tags"))])]),o("div",null,[t[22]||(t[22]=o("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"},"Arabic Tags",-1)),o("div",xe,[(w(!0),n(v,null,x(null==(r=mt.value.tags)?void 0:r.ar,e=>(w(),n("span",{key:e,class:"px-4 py-1.5 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 text-sm font-medium rounded-full transition-transform duration-200 hover:scale-105"},g(e),1))),128)),(null==(d=null==(s=mt.value.tags)?void 0:s.ar)?void 0:d.length)?u("",!0):(w(),n("span",ye,"No tags"))])])])]}),_:1}),i(j,{title:"Notes",class:"shadow-lg"},{default:d(()=>{var e,a,l,r,s,d;return[o("div",me,[o("div",null,[t[23]||(t[23]=o("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"},"English Notes",-1)),o("div",pe,[(w(!0),n(v,null,x(null==(e=mt.value.notes)?void 0:e.en,e=>(w(),n("span",{key:e,class:"px-4 py-1.5 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 text-sm font-medium rounded-full transition-transform duration-200 hover:scale-105"},g(e),1))),128)),(null==(l=null==(a=mt.value.notes)?void 0:a.en)?void 0:l.length)?u("",!0):(w(),n("span",be,"No notes"))])]),o("div",null,[t[24]||(t[24]=o("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"},"Arabic Notes",-1)),o("div",fe,[(w(!0),n(v,null,x(null==(r=mt.value.notes)?void 0:r.ar,e=>(w(),n("span",{key:e,class:"px-4 py-1.5 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 text-sm font-medium rounded-full transition-transform duration-200 hover:scale-105"},g(e),1))),128)),(null==(d=null==(s=mt.value.notes)?void 0:s.ar)?void 0:d.length)?u("",!0):(w(),n("span",ke,"No notes"))])])])]}),_:1}),(null==(e=mt.value.images)?void 0:e.length)?(w(),s(j,{key:0,title:"Product Images",class:"shadow-lg"},{default:d(()=>[o("div",he,[(w(!0),n(v,null,x(mt.value.images,(e,t)=>(w(),n("div",{key:t,class:"aspect-square bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden shadow-md transition-transform duration-300 hover:scale-105 cursor-pointer",onClick:t=>Et(e)},[i(A,{"image-id":e,alt:`Product image ${t+1}`,width:"100%",height:"100%","image-class":"w-full h-full object-cover",placeholder:"/placeholder-product.png"},null,8,["image-id","alt"])],8,we))),128))])]),_:1})):u("",!0),i(j,{title:"Ratings & Reviews Management",class:"shadow-lg"},{default:d(()=>{var e,a,l;return[o("div",Ce,[o("div",_e,[t[26]||(t[26]=o("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Rating Overview",-1)),o("div",je,[o("div",Ae,[o("div",Pe,g((null==(a=null==(e=ht.value)?void 0:e.avgRating)?void 0:a.toFixed(1))||"0.0"),1),o("div",Re,[(w(),n(v,null,x(5,e=>{var t;return o("span",{key:e,class:"text-2xl transition-transform duration-200"},g(e<=Math.floor((null==(t=ht.value)?void 0:t.avgRating)||0)?"★":"☆"),1)}),64))]),o("p",Ie,g((null==(l=ht.value)?void 0:l.totalRatings)||0)+" total ratings ",1)]),o("div",Se,[t[25]||(t[25]=o("h5",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Rating Distribution",-1)),o("div",De,[(w(),n(v,null,x([5,4,3,2,1],e=>{var t,a;return o("div",{key:e,class:"flex items-center gap-3"},[o("span",He,g(e)+"★",1),o("div",Ne,[o("div",{class:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:y({width:Ft(e)+"%"})},null,4)]),o("span",Ee,g((null==(a=null==(t=ht.value)?void 0:t.distribution)?void 0:a[e])||0),1)])}),64))])])])]),o("div",null,[o("div",Fe,[o("h4",Te," Customer Reviews ("+g(kt.value.length)+") ",1),o("div",Be,[m(o("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Ct.value=e),onChange:Tt,class:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-sm"},[...t[27]||(t[27]=[o("option",{value:"createdAt"},"Newest First",-1),o("option",{value:"rating"},"Highest Rating",-1),o("option",{value:"helpfulVotes"},"Most Helpful",-1)])],544),[[p,Ct.value]]),o("button",{onClick:Tt,class:"px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm"}," Refresh ")])]),wt.value?(w(),n("div",Ve,[...t[28]||(t[28]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"},null,-1),o("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"Loading ratings...",-1)])])):kt.value.length>0?(w(),n("div",$e,[(w(!0),n(v,null,x(kt.value,e=>{var t,a,l,r,s;return w(),n("div",{key:e._id,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow"},[o("div",Le,[o("div",Me,[o("div",Ue,[o("span",ze,g((null==(l=null==(a=null==(t=e.userId)?void 0:t.name)?void 0:a.charAt(0))?void 0:l.toUpperCase())||"U"),1)]),o("div",null,[o("p",Oe,g((null==(r=e.userId)?void 0:r.name)||"Anonymous User"),1),o("div",qe,[o("div",Ge,[(w(),n(v,null,x(5,t=>o("span",{key:t,class:"text-sm"},g(t<=e.rating?"★":"☆"),1)),64))]),o("span",Qe,g((s=e.createdAt,s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown date")),1),e.isVerifiedPurchase?(w(),n("span",Je," Verified Purchase ")):u("",!0)])])]),o("div",Ke,[e.helpfulVotes>0?(w(),n("span",We,g(e.helpfulVotes)+" helpful ",1)):u("",!0),o("button",{onClick:t=>(async e=>{var t,a;try{await D(e._id,!e.isHidden);const t=kt.value.findIndex(t=>t._id===e._id);-1!==t&&(kt.value[t].isHidden=!e.isHidden)}catch(l){console.error("Error toggling rating visibility:",l),yt.value=(null==(a=null==(t=l.response)?void 0:t.data)?void 0:a.message)||"Failed to update rating visibility"}})(e),class:c([e.isHidden?"bg-green-500 hover:bg-green-600":"bg-yellow-500 hover:bg-yellow-600","px-2 py-1 text-white text-xs rounded transition-colors"])},g(e.isHidden?"Show":"Hide"),11,Xe),o("button",{onClick:t=>(e=>{At.value=e,jt.value=!0})(e),class:"px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors"}," Delete ",8,Ye)])]),e.review?(w(),n("p",Ze,g(e.review),1)):u("",!0),e.isHidden?(w(),n("div",et," This review is currently hidden from customers ")):u("",!0)])}),128))])):(w(),n("div",tt,[...t[29]||(t[29]=[o("div",{class:"text-gray-400 dark:text-gray-500 text-6xl mb-4"},"★",-1),o("p",{class:"text-gray-600 dark:text-gray-400"},"No ratings yet for this product",-1)])])),_t.value.pages>1?(w(),n("div",at,[o("div",lt,[(w(!0),n(v,null,x(_t.value.pages,e=>(w(),n("button",{key:e,onClick:t=>Tt(e),class:c([e===_t.value.page?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300","px-3 py-1 rounded transition-colors hover:opacity-80"])},g(e),11,rt))),128))])])):u("",!0)])])]}),_:1})])):u("",!0),i(f,{name:"modal"},{default:d(()=>[pt.value?(w(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:t[5]||(t[5]=e=>pt.value=!1)},[o("div",{class:"relative max-w-4xl w-full p-4",onClick:t[4]||(t[4]=b(()=>{},["stop"]))},[i(A,{"image-id":bt.value,alt:"Product Image",width:"100%",height:"auto","image-class":"w-full h-auto rounded-lg shadow-xl"},null,8,["image-id"]),o("button",{onClick:t[3]||(t[3]=e=>pt.value=!1),class:"absolute top-2 right-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-full p-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},[...t[30]||(t[30]=[o("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):u("",!0)]),_:1}),i(f,{name:"modal"},{default:d(()=>[ft.value?(w(),n("div",st,[o("div",dt,[t[31]||(t[31]=o("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Confirm Deletion",-1)),t[32]||(t[32]=o("p",{class:"mt-2 text-gray-600 dark:text-gray-300"},"Are you sure you want to delete this product? This action cannot be undone.",-1)),o("div",it,[o("button",{onClick:t[6]||(t[6]=e=>ft.value=!1),class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancel "),o("button",{onClick:Nt,class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"}," Delete Product ")])])])):u("",!0)]),_:1}),i(f,{name:"modal"},{default:d(()=>{var e,a;return[jt.value?(w(),n("div",ot,[o("div",nt,[t[35]||(t[35]=o("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Delete Rating",-1)),o("p",ut,[t[33]||(t[33]=k(" Are you sure you want to delete this rating from ",-1)),o("strong",null,g((null==(a=null==(e=At.value)?void 0:e.userId)?void 0:a.name)||"Anonymous User"),1),t[34]||(t[34]=k("? This action cannot be undone. ",-1))]),o("div",gt,[o("button",{onClick:t[7]||(t[7]=e=>jt.value=!1),class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancel "),o("button",{onClick:Bt,class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"}," Delete Rating ")])])])):u("",!0)]}),_:1})])]}),_:1}))}},[["__scopeId","data-v-7470f83d"]]);export{ct as default};
