import{_ as e}from"./AdminLayout-BDbNDvIA.js";import{a as t,d as a,u as r,r as s,o as l,c as o,b as i,t as n,e as d,w as c,f as u,g,n as m,h as x,F as h,i as p,j as y,k as v,l as b,m as f,p as k,q as w,s as C,v as M,x as A,y as j}from"./index-BChQAjBg.js";import{_ as L}from"./_plugin-vue_export-helper-BCo6x5W8.js";const D=async e=>(await t.get("/analytics/metrics",{headers:{Authorization:`Bearer ${e}`}})).data,B=async e=>(await t.get("/analytics/monthly-sales",{headers:{Authorization:`Bearer ${e}`}})).data,S=async e=>(await t.get("/analytics/customer-demographics",{headers:{Authorization:`Bearer ${e}`}})).data,_=async(e,a=10)=>(await t.get("/analytics/recent-orders",{params:{limit:a},headers:{Authorization:`Bearer ${e}`}})).data,E=async(e,a=10)=>(await t.get("/analytics/top-products",{params:{limit:a},headers:{Authorization:`Bearer ${e}`}})).data,F=async e=>(await t.get("/analytics/sales-by-category",{headers:{Authorization:`Bearer ${e}`}})).data,O={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-6"},z={class:"rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-black/[1] md:p-6"},$={class:"flex items-end justify-between mt-5"},T={class:"mt-2 font-bold text-gray-800 text-theme-sm dark:text-white/90"},R={class:"rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-black/[1] md:p-6"},P={class:"flex items-end justify-between mt-5"},H={class:"mt-2 font-bold text-gray-800 text-theme-sm dark:text-white/90"},V={class:"rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-black/[1] md:p-6"},Z={class:"flex items-end justify-between mt-5"},J={class:"mt-2 font-bold text-gray-800 text-theme-sm dark:text-white/90"},I={class:"rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-black/[1] md:p-6"},U={class:"flex items-end justify-between mt-5"},W={class:"mt-2 font-bold text-gray-800 text-theme-sm dark:text-white/90"},K={class:"rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-black/[1] md:p-6"},N={class:"flex items-end justify-between mt-5"},G={class:"mt-2 font-bold text-gray-800 text-theme-sm dark:text-white/90"},Y={class:"rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-black/[1] md:p-6"},q={class:"flex items-end justify-between mt-5"},Q={class:"mt-2 font-bold text-gray-800 text-theme-sm dark:text-white/90"},X=a({__name:"EcommerceMetrics",setup(e){const t=r(),a=s({});return l(async()=>{var e,r,s,l,o,i,n,d,c,u,g,m;console.log("[EcommerceMetrics] Component mounted");const x=t.token;console.log("[EcommerceMetrics] Token from authStore:",x);try{console.log("[EcommerceMetrics] Calling AnalyticsAPI.getEcommerceMetrics...");const t=await D(x);console.log("[EcommerceMetrics] API response data:",t),a.value={totalUsers:(null==(r=null==(e=t.data)?void 0:e.metrics)?void 0:r.totalUsers)??0,totalOrders:(null==(l=null==(s=t.data)?void 0:s.metrics)?void 0:l.totalOrders)??0,totalProducts:(null==(i=null==(o=t.data)?void 0:o.metrics)?void 0:i.totalProducts)??0,totalRevenue:(null==(d=null==(n=t.data)?void 0:n.metrics)?void 0:d.totalRevenue)??0,activeCoupons:(null==(u=null==(c=t.data)?void 0:c.metrics)?void 0:u.activeCoupons)??0,todayRevenue:(null==(m=null==(g=t.data)?void 0:g.metrics)?void 0:m.todayRevenue)??0},console.log("[EcommerceMetrics] metrics ref updated:",a.value)}catch(h){console.error("[EcommerceMetrics] Failed to fetch metrics:",h)}}),(e,t)=>{var r,s,l,c,u,g,m,x,h,p,y,v;return d(),o("div",O,[i("div",z,[t[1]||(t[1]=i("div",{class:"flex items-center justify-center w-12 h-12 bg-blue-50 rounded-xl dark:bg-blue-500/15"},[i("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),i("div",$,[i("div",null,[t[0]||(t[0]=i("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Users",-1)),i("h4",T,n((null==(s=null==(r=a.value)?void 0:r.totalUsers)?void 0:s.toLocaleString())||"0"),1)])])]),i("div",R,[t[3]||(t[3]=i("div",{class:"flex items-center justify-center w-12 h-12 bg-green-50 rounded-xl dark:bg-green-500/15"},[i("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1)),i("div",P,[i("div",null,[t[2]||(t[2]=i("span",{class:"text-sm text-gray-500 text-theme-xs dark:text-gray-400"},"Total Orders",-1)),i("h4",H,n((null==(c=null==(l=a.value)?void 0:l.totalOrders)?void 0:c.toLocaleString())||"0"),1)])])]),i("div",V,[t[5]||(t[5]=i("div",{class:"flex items-center justify-center w-12 h-12 bg-purple-50 rounded-xl dark:bg-purple-500/15"},[i("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),i("div",Z,[i("div",null,[t[4]||(t[4]=i("span",{class:"text-sm text-gray-500 text-theme-xs dark:text-gray-400"},"Total Products",-1)),i("h4",J,n((null==(g=null==(u=a.value)?void 0:u.totalProducts)?void 0:g.toLocaleString())||"0"),1)])])]),i("div",I,[t[7]||(t[7]=i("div",{class:"flex items-center justify-center w-12 h-12 bg-orange-50 rounded-xl dark:bg-orange-500/15"},[i("svg",{class:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),i("div",U,[i("div",null,[t[6]||(t[6]=i("span",{class:"text-sm text-gray-500 text-theme-xs dark:text-gray-400"},"Total Revenue",-1)),i("h4",W," $"+n((null==(x=null==(m=a.value)?void 0:m.totalRevenue)?void 0:x.toLocaleString())||"0"),1)])])]),i("div",K,[t[9]||(t[9]=i("div",{class:"flex items-center justify-center w-12 h-12 bg-pink-50 rounded-xl dark:bg-pink-500/15"},[i("svg",{class:"w-6 h-6 text-pink-600 dark:text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A2 2 0 013 10V5a2 2 0 012-2z"})])],-1)),i("div",N,[i("div",null,[t[8]||(t[8]=i("span",{class:"text-sm text-gray-500 text-theme-xs dark:text-gray-400"},"Active Coupons",-1)),i("h4",G,n((null==(p=null==(h=a.value)?void 0:h.activeCoupons)?void 0:p.toLocaleString())||"0"),1)])])]),i("div",Y,[t[11]||(t[11]=i("div",{class:"flex items-center justify-center w-12 h-12 bg-yellow-50 rounded-xl dark:bg-yellow-500/15"},[i("svg",{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),i("div",q,[i("div",null,[t[10]||(t[10]=i("span",{class:"text-sm text-gray-500 text-theme-xs dark:text-gray-400"},"Today Revenue",-1)),i("h4",Q," $"+n((null==(v=null==(y=a.value)?void 0:y.todayRevenue)?void 0:v.toLocaleString())||"0"),1)])])])])}}}),ee={created(e,t){e.clickOutsideEvent=a=>{e===a.target||e.contains(a.target)||t.value(a)},document.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.removeEventListener("click",e.clickOutsideEvent)}},te={class:"relative",ref:"dropdown"},ae=["onClick"],re={directives:{clickOutside:ee}},se=Object.assign(re,{__name:"DropdownMenu",props:{menuItems:{type:Array,default:()=>[]},buttonClass:{type:String,default:"text-gray-500 dark:text-gray-400"},menuClass:{type:String,default:"absolute right-0 z-40 w-40 p-2 space-y-1 bg-white border border-gray-200 top-full rounded-2xl shadow-lg dark:border-gray-800 dark:bg-gray-dark"},itemClass:{type:String,default:"flex w-full px-3 py-2 font-medium text-left text-gray-500 rounded-lg text-theme-xs hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300"}},setup(e){const t=s(!1),a=()=>{t.value=!t.value},r=()=>{t.value=!1},l=e=>{"function"==typeof e&&e(),r()};return(s,f)=>{const k=x("router-link");return c((d(),o("div",te,[i("button",{onClick:a,class:m(e.buttonClass)},[g(s.$slots,"icon",{},()=>[f[0]||(f[0]=i("svg",{class:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99902 10.245C6.96552 10.245 7.74902 11.0285 7.74902 11.995V12.005C7.74902 12.9715 6.96552 13.755 5.99902 13.755C5.03253 13.755 4.24902 12.9715 4.24902 12.005V11.995C4.24902 11.0285 5.03253 10.245 5.99902 10.245ZM17.999 10.245C18.9655 10.245 19.749 11.0285 19.749 11.995V12.005C19.749 12.9715 18.9655 13.755 17.999 13.755C17.0325 13.755 16.249 12.9715 16.249 12.005V11.995C16.249 11.0285 17.0325 10.245 17.999 10.245ZM13.749 11.995C13.749 11.0285 12.9655 10.245 11.999 10.245C11.0325 10.245 10.249 11.0285 10.249 11.995V12.005C10.249 12.9715 11.0325 13.755 11.999 13.755C12.9655 13.755 13.749 12.9715 13.749 12.005V11.995Z",fill:"currentColor"})],-1))])],2),t.value?(d(),o("div",{key:0,class:m(e.menuClass)},[g(s.$slots,"menu",{},()=>[(d(!0),o(h,null,p(e.menuItems,(t,a)=>(d(),o(h,null,[t.to?(d(),y(k,{key:`router-${a}`,to:t.to,onClick:e=>l(t.onClick),class:m(e.itemClass)},{default:v(()=>[b(n(t.label),1)]),_:2},1032,["to","onClick","class"])):(d(),o("button",{key:`button-${a}`,onClick:e=>l(t.onClick),class:m(e.itemClass)},n(t.label),11,ae))],64))),256))])],2)):u("",!0)])),[[ee,r]])}}}),le={class:"rounded-2xl border border-gray-200 bg-gray-100 dark:border-gray-800 dark:bg-white/[0.03]"},oe={class:"px-5 pt-5 bg-white shadow-default rounded-2xl pb-11 dark:bg-gray-900 sm:px-6 sm:pt-6"},ie={class:"flex justify-between"},ne={class:"relative max-h-[195px]"},de={id:"chartTwo",class:"h-full"},ce={class:"radial-bar-chart"},ue={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6"},ge={class:"flex items-center justify-between"},me={class:"relative h-fit"},xe={class:"max-w-full overflow-x-auto custom-scrollbar"},he={id:"chartOne",class:"-ml-5 min-w-[650px] xl:min-w-full pl-2"},pe={class:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-gray-900/30 sm:p-6"},ye={class:"mt-6"},ve={class:"h-48"},be={class:"mt-6"},fe={class:"space-y-3"},ke={class:"flex items-center gap-3"},we={class:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize"},Ce={class:"flex items-center gap-3"},Me={class:"relative w-20 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},Ae={class:"text-sm font-semibold text-gray-800 dark:text-gray-200"},je={class:"mt-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},Le={class:"flex items-center justify-between"},De={class:"text-lg font-bold text-gray-900 dark:text-white"},Be={class:"rounded-2xl border border-gray-200 bg-white px-5 pb-5 pt-5 dark:border-gray-800 dark:bg-gray-900/30 sm:px-6 sm:pt-6"},Se={class:"flex flex-col gap-5 mb-6 sm:flex-row sm:justify-between"},_e={class:"relative"},Ee={class:"inline-flex items-center gap-0.5 rounded-lg bg-gray-100 p-0.5 dark:bg-gray-800"},Fe=["onClick"],Oe={class:"max-w-full overflow-x-auto custom-scrollbar"},ze={id:"chartThree",class:"-ml-4 min-w-[1000px] xl:min-w-full pl-2"},$e={class:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-4 pb-3 pt-4 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6"},Te={class:"max-w-full overflow-x-auto custom-scrollbar"},Re={class:"min-w-full"},Pe={class:"py-3 whitespace-nowrap"},He={class:"flex items-center gap-3"},Ve={class:"h-[50px] w-[50px] overflow-hidden rounded-md"},Ze=["src","alt"],Je={class:"font-medium text-gray-800 text-theme-sm dark:text-white/90"},Ie={class:"text-gray-500 text-theme-xs dark:text-gray-400"},Ue={class:"py-3 whitespace-nowrap"},We={class:"text-gray-500 text-theme-sm dark:text-gray-400"},Ke={class:"py-3 whitespace-nowrap"},Ne={class:"text-gray-500 text-theme-sm dark:text-gray-400"},Ge={class:"py-3 whitespace-nowrap"},Ye={key:0,class:"flex items-center justify-center min-h-[60vh]"},qe={key:1,class:"flex items-center justify-center min-h-[60vh]"},Qe={class:"text-center max-w-md"},Xe={class:"text-gray-600 dark:text-gray-400 mb-4"},et={key:2,class:"grid grid-cols-12 gap-4 md:gap-6"},tt={class:"col-span-12 space-y-6"};const at=L({components:{AdminLayout:e,EcommerceMetrics:X,MonthlyTarget:L(a({__name:"MonthlyTarget",props:{value:{type:Number,default:75.55}},setup(e){const t=[{label:"View More",onClick:()=>console.log("View More clicked")},{label:"Delete",onClick:()=>console.log("Delete clicked")}],a=e,r=f(()=>[a.value]),s={colors:["#465FFF"],chart:{fontFamily:"Outfit, sans-serif",sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"80%"},track:{background:"#E4E7EC",strokeWidth:"100%",margin:5},dataLabels:{name:{show:!1},value:{fontSize:"36px",fontWeight:"600",offsetY:60,color:"#1D2939",formatter:function(e){return e.toFixed(2)+"%"}}}}},fill:{type:"solid",colors:["#465FFF"]},stroke:{lineCap:"round"},labels:["Progress"]};return(e,a)=>(d(),o("div",le,[i("div",oe,[i("div",ie,[a[1]||(a[1]=i("div",null,[i("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Monthly Target"),i("p",{class:"mt-1 text-gray-500 text-theme-sm dark:text-gray-400"}," Target youâ€™ve set for each month ")],-1)),i("div",null,[w(se,{"menu-items":t},{icon:v(()=>[...a[0]||(a[0]=[i("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})],-1)])]),_:1})])]),i("div",ne,[i("div",de,[i("div",ce,[w(C(M),{type:"radialBar",height:"330",options:s,series:r.value},null,8,["series"])])]),a[2]||(a[2]=i("span",{class:"absolute left-1/2 top-[85%] -translate-x-1/2 -translate-y-[85%] rounded-full bg-success-50 px-3 py-1 text-xs font-medium text-success-600 dark:bg-success-500/15 dark:text-success-500"},"+10%",-1))]),a[3]||(a[3]=i("p",{class:"mx-auto mt-1.5 w-full max-w-[380px] text-center text-sm text-gray-500 sm:text-base"}," You earn $3287 today, it's higher than last month. Keep up your good work! ",-1))]),a[4]||(a[4]=k('<div class="flex items-center justify-center gap-5 px-6 py-3.5 sm:gap-8 sm:py-5" data-v-c4503ee0><div data-v-c4503ee0><p class="mb-1 text-center text-gray-500 text-theme-xs dark:text-gray-400 sm:text-sm" data-v-c4503ee0> Target </p><p class="flex items-center justify-center gap-1 text-base font-semibold text-gray-800 dark:text-white/90 sm:text-lg" data-v-c4503ee0> $20K <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c4503ee0><path fill-rule="evenodd" clip-rule="evenodd" d="M7.26816 13.6632C7.4056 13.8192 7.60686 13.9176 7.8311 13.9176C7.83148 13.9176 7.83187 13.9176 7.83226 13.9176C8.02445 13.9178 8.21671 13.8447 8.36339 13.6981L12.3635 9.70076C12.6565 9.40797 12.6567 8.9331 12.3639 8.6401C12.0711 8.34711 11.5962 8.34694 11.3032 8.63973L8.5811 11.36L8.5811 2.5C8.5811 2.08579 8.24531 1.75 7.8311 1.75C7.41688 1.75 7.0811 2.08579 7.0811 2.5L7.0811 11.3556L4.36354 8.63975C4.07055 8.34695 3.59568 8.3471 3.30288 8.64009C3.01008 8.93307 3.01023 9.40794 3.30321 9.70075L7.26816 13.6632Z" fill="#D92D20" data-v-c4503ee0></path></svg></p></div><div class="w-px bg-gray-200 h-7 dark:bg-gray-800" data-v-c4503ee0></div><div data-v-c4503ee0><p class="mb-1 text-center text-gray-500 text-theme-xs dark:text-gray-400 sm:text-sm" data-v-c4503ee0> Revenue </p><p class="flex items-center justify-center gap-1 text-base font-semibold text-gray-800 dark:text-white/90 sm:text-lg" data-v-c4503ee0> $20K <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c4503ee0><path fill-rule="evenodd" clip-rule="evenodd" d="M7.60141 2.33683C7.73885 2.18084 7.9401 2.08243 8.16435 2.08243C8.16475 2.08243 8.16516 2.08243 8.16556 2.08243C8.35773 2.08219 8.54998 2.15535 8.69664 2.30191L12.6968 6.29924C12.9898 6.59203 12.9899 7.0669 12.6971 7.3599C12.4044 7.6529 11.9295 7.65306 11.6365 7.36027L8.91435 4.64004L8.91435 13.5C8.91435 13.9142 8.57856 14.25 8.16435 14.25C7.75013 14.25 7.41435 13.9142 7.41435 13.5L7.41435 4.64442L4.69679 7.36025C4.4038 7.65305 3.92893 7.6529 3.63613 7.35992C3.34333 7.06693 3.34348 6.59206 3.63646 6.29926L7.60141 2.33683Z" fill="#039855" data-v-c4503ee0></path></svg></p></div><div class="w-px bg-gray-200 h-7 dark:bg-gray-800" data-v-c4503ee0></div><div data-v-c4503ee0><p class="mb-1 text-center text-gray-500 text-theme-xs dark:text-gray-400 sm:text-sm" data-v-c4503ee0> Today </p><p class="flex items-center justify-center gap-1 text-base font-semibold text-gray-800 dark:text-white/90 sm:text-lg" data-v-c4503ee0> $20K <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c4503ee0><path fill-rule="evenodd" clip-rule="evenodd" d="M7.60141 2.33683C7.73885 2.18084 7.9401 2.08243 8.16435 2.08243C8.16475 2.08243 8.16516 2.08243 8.16556 2.08243C8.35773 2.08219 8.54998 2.15535 8.69664 2.30191L12.6968 6.29924C12.9898 6.59203 12.9899 7.0669 12.6971 7.3599C12.4044 7.6529 11.9295 7.65306 11.6365 7.36027L8.91435 4.64004L8.91435 13.5C8.91435 13.9142 8.57856 14.25 8.16435 14.25C7.75013 14.25 7.41435 13.9142 7.41435 13.5L7.41435 4.64442L4.69679 7.36025C4.4038 7.65305 3.92893 7.6529 3.63613 7.35992C3.34333 7.06693 3.34348 6.59206 3.63646 6.29926L7.60141 2.33683Z" fill="#039855" data-v-c4503ee0></path></svg></p></div></div>',1))]))}}),[["__scopeId","data-v-c4503ee0"]]),MonthlySale:{__name:"MonthlySale",setup(e){const t=[{label:"View More",onClick:()=>console.log("View More clicked")},{label:"Delete",onClick:()=>console.log("Delete clicked")}],a=s([{name:"Sales",data:[168,385,201,298,187,195,291,110,215,390,280,112]}]),r=s({colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!0,position:"top",horizontalAlign:"left",fontFamily:"Outfit",markers:{radius:99}},yaxis:{title:!1},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:function(e){return e.toString()}}}});return l(()=>{}),(e,s)=>(d(),o("div",ue,[i("div",ge,[s[1]||(s[1]=i("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Monthly Sales",-1)),i("div",me,[w(se,{"menu-items":t},{icon:v(()=>[...s[0]||(s[0]=[i("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})],-1)])]),_:1})])]),i("div",xe,[i("div",he,[w(C(M),{type:"bar",height:"180",options:r.value,series:a.value},null,8,["options","series"])])])]))}},CustomerDemographic:a({__name:"CustomerDemographic",setup(e){const t=A("analyticsData",null),a=f(()=>{var e,a;return(null==(a=null==(e=null==t?void 0:t.value)?void 0:e.customerDemographics)?void 0:a.registrationTrend)||[]}),r=f(()=>{var e,a;return(null==(a=null==(e=null==t?void 0:t.value)?void 0:e.customerDemographics)?void 0:a.roleDistribution)||[]}),s=f(()=>r.value.reduce((e,t)=>e+t.count,0)),c=f(()=>[{name:"Registrations",data:a.value.map(e=>e.count)}]),g=f(()=>({chart:{type:"area",height:192,toolbar:{show:!1},background:"transparent"},colors:["#3B82F6"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.45,opacityTo:.05,stops:[50,100]}},stroke:{width:2,curve:"smooth"},xaxis:{categories:a.value.map(e=>`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e._id.month-1]} ${e._id.year}`),labels:{style:{colors:document.documentElement.classList.contains("dark")?"#9CA3AF":"#6B7280",fontSize:"12px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:document.documentElement.classList.contains("dark")?"#9CA3AF":"#6B7280",fontSize:"12px"}}},grid:{borderColor:document.documentElement.classList.contains("dark")?"#374151":"#E5E7EB",strokeDashArray:3},tooltip:{theme:document.documentElement.classList.contains("dark")?"dark":"light",y:{formatter:e=>`${e} registrations`}},legend:{show:!1}})),x=e=>({admin:"bg-red-500",user:"bg-blue-500",moderator:"bg-green-500"}[e]||"bg-gray-500"),v=e=>{const t=s.value;return t>0?Math.round(e/t*100):0};return l(()=>{new MutationObserver(()=>{}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),(e,t)=>(d(),o("div",pe,[t[3]||(t[3]=i("div",{class:"flex justify-between"},[i("div",null,[i("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"}," Customer Demographics "),i("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," User registration trends and role distribution ")])],-1)),i("div",ye,[t[0]||(t[0]=i("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4"},"Monthly Registrations",-1)),i("div",ve,[g.value?(d(),y(C(M),{key:0,type:"area",options:g.value,series:c.value,height:"100%"},null,8,["options","series"])):u("",!0)])]),i("div",be,[t[1]||(t[1]=i("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4"},"Role Distribution",-1)),i("div",fe,[(d(!0),o(h,null,p(r.value,e=>(d(),o("div",{key:e._id,class:"flex items-center justify-between"},[i("div",ke,[i("div",{class:m(["w-3 h-3 rounded-full",x(e._id)])},null,2),i("span",we,n(e._id),1)]),i("div",Ce,[i("div",Me,[i("div",{class:m(["absolute left-0 top-0 h-full rounded-full transition-all duration-300",x(e._id)]),style:j({width:v(e.count)+"%"})},null,6)]),i("span",Ae,n(e.count),1)])]))),128))])]),i("div",je,[i("div",Le,[t[2]||(t[2]=i("span",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Users",-1)),i("span",De,n(s.value),1)])])]))}}),StatisticsChart:L(a({__name:"StatisticsChart",setup(e){const t=A("analyticsData"),a=[{value:"optionOne",label:"Monthly"},{value:"optionTwo",label:"Quarterly"},{value:"optionThree",label:"Annually"}],r=s("optionOne"),l=f(()=>{var e;if(!(null==(e=null==t?void 0:t.value)?void 0:e.monthlySales))return{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],revenue:[0,0,0,0,0,0,0,0,0,0,0,0],orders:[0,0,0,0,0,0,0,0,0,0,0,0]};const a=t.value.monthlySales,r=[],s=[],l=[];for(let t=1;t<=12;t++){const e=a.find(e=>e._id===t);r.push(new Date(2024,t-1).toLocaleString("default",{month:"short"})),s.push((null==e?void 0:e.revenue)||0),l.push((null==e?void 0:e.orders)||0)}return{categories:r,revenue:s,orders:l}}),c=f(()=>[{name:"Revenue",data:l.value.revenue},{name:"Orders",data:l.value.orders}]),u=f(()=>{const e=document.documentElement.classList.contains("dark");return{legend:{show:!0,position:"top",horizontalAlign:"left",fontFamily:"Outfit, sans-serif",labels:{colors:e?"#D1D5DB":"#374151"},markers:{radius:6}},colors:["#3B82F6","#10B981"],chart:{fontFamily:"Outfit, sans-serif",type:"area",toolbar:{show:!1},background:"transparent"},fill:{gradient:{enabled:!0,opacityFrom:.55,opacityTo:0}},stroke:{curve:"smooth",width:[2,2]},markers:{size:4},labels:{show:!1,position:"top"},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},borderColor:e?"#374151":"#E5E7EB"},dataLabels:{enabled:!1},tooltip:{theme:e?"dark":"light",x:{format:"MMM yyyy"},y:{formatter:function(e){return e.toLocaleString()}}},xaxis:{type:"category",categories:l.value.categories,axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1},labels:{style:{colors:e?"#9CA3AF":"#6B7280"}}},yaxis:{title:{style:{fontSize:"0px"}},labels:{style:{colors:e?"#9CA3AF":"#6B7280"},formatter:function(e){return e.toLocaleString()}}}}});return(e,t)=>(d(),o("div",Be,[i("div",Se,[t[0]||(t[0]=i("div",{class:"w-full"},[i("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"Statistics"),i("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Monthly sales and revenue overview ")],-1)),i("div",_e,[i("div",Ee,[(d(),o(h,null,p(a,e=>i("button",{key:e.value,onClick:t=>r.value=e.value,class:m([r.value===e.value?"shadow-sm text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white","px-3 py-2 font-medium rounded-md text-sm transition-all duration-200"])},n(e.label),11,Fe)),64))])])]),i("div",Oe,[i("div",ze,[w(C(M),{type:"area",height:"310",options:u.value,series:c.value},null,8,["options","series"])])])]))}}),[["__scopeId","data-v-213b2fe3"]]),RecentOrders:{__name:"RecentOrders",setup(e){const t=s([{name:'Macbook pro 13"',variants:2,image:"/images/product/product-01.jpg",category:"Laptop",price:"$2399.00",status:"Delivered"},{name:"Apple Watch Ultra",variants:1,image:"/images/product/product-02.jpg",category:"Watch",price:"$879.00",status:"Pending"},{name:"iPhone 15 Pro Max",variants:2,image:"/images/product/product-03.jpg",category:"SmartPhone",price:"$1869.00",status:"Delivered"},{name:"iPad Pro 3rd Gen",variants:2,image:"/images/product/product-04.jpg",category:"Electronics",price:"$1699.00",status:"Canceled"},{name:"Airpods Pro 2nd Gen",variants:1,image:"/images/product/product-05.jpg",category:"Accessories",price:"$240.00",status:"Delivered"}]);return(e,a)=>(d(),o("div",$e,[a[1]||(a[1]=k('<div class="flex flex-col gap-2 mb-4 sm:flex-row sm:items-center sm:justify-between"><div><h3 class="text-lg font-semibold text-gray-800 dark:text-white/90">Recent Orders</h3></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200"><svg class="stroke-current fill-white dark:fill-gray-800" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.29004 5.90393H17.7067" stroke="" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17.7075 14.0961H2.29085" stroke="" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12.0826 3.33331C13.5024 3.33331 14.6534 4.48431 14.6534 5.90414C14.6534 7.32398 13.5024 8.47498 12.0826 8.47498C10.6627 8.47498 9.51172 7.32398 9.51172 5.90415C9.51172 4.48432 10.6627 3.33331 12.0826 3.33331Z" fill="" stroke="" stroke-width="1.5"></path><path d="M7.91745 11.525C6.49762 11.525 5.34662 12.676 5.34662 14.0959C5.34661 15.5157 6.49762 16.6667 7.91745 16.6667C9.33728 16.6667 10.4883 15.5157 10.4883 14.0959C10.4883 12.676 9.33728 11.525 7.91745 11.525Z" fill="" stroke="" stroke-width="1.5"></path></svg> Filter </button><button class="inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200"> See all </button></div></div>',1)),i("div",Te,[i("table",Re,[a[0]||(a[0]=i("thead",null,[i("tr",{class:"border-t border-gray-100 dark:border-gray-800"},[i("th",{class:"py-3 text-left"},[i("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"Products")]),i("th",{class:"py-3 text-left"},[i("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"Category")]),i("th",{class:"py-3 text-left"},[i("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"Price")]),i("th",{class:"py-3 text-left"},[i("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"Status")])])],-1)),i("tbody",null,[(d(!0),o(h,null,p(t.value,(e,t)=>(d(),o("tr",{key:t,class:"border-t border-gray-100 dark:border-gray-800"},[i("td",Pe,[i("div",He,[i("div",Ve,[i("img",{src:e.image,alt:e.name},null,8,Ze)]),i("div",null,[i("p",Je,n(e.name),1),i("span",Ie,n(e.variants)+" Variants",1)])])]),i("td",Ue,[i("p",We,n(e.category),1)]),i("td",Ke,[i("p",Ne,n(e.price),1)]),i("td",Ge,[i("span",{class:m({"rounded-full px-2 py-0.5 text-theme-xs font-medium":!0,"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500":"Delivered"===e.status,"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400":"Pending"===e.status,"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500":"Canceled"===e.status})},n(e.status),3)])]))),128))])])])]))}}},name:"Ecommerce",data:()=>({analyticsData:null,loading:!1,error:null}),async mounted(){await this.fetchAnalyticsData()},methods:{async fetchAnalyticsData(){this.loading=!0,this.error=null;try{const e=r().token,[t,a,s,l,o,i]=await Promise.all([D(e),B(e),S(e),_(e),E(e),F(e)]);this.analyticsData={metrics:t.data,monthlySales:a.data,customerDemographics:s.data,recentOrders:l.data,topProducts:o.data,salesByCategory:i.data},this.$emit("analytics-data",this.analyticsData)}catch(e){console.error("Failed to fetch analytics data:",e),this.error="Failed to load dashboard data. Please try again."}finally{this.loading=!1}}},provide(){return{analyticsData:this.analyticsData,refreshAnalytics:this.fetchAnalyticsData}}},[["render",function(e,t,a,r,s,l){const c=x("ecommerce-metrics"),g=x("admin-layout");return d(),y(g,null,{default:v(()=>[s.loading?(d(),o("div",Ye,[...t[1]||(t[1]=[i("div",{class:"text-center"},[i("div",{class:"inline-flex items-center justify-center w-16 h-16 mb-4 rounded-full bg-blue-100 dark:bg-blue-900/20"},[i("svg",{class:"w-8 h-8 text-blue-600 dark:text-blue-400 animate-spin",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])]),i("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Loading Analytics"),i("p",{class:"text-gray-600 dark:text-gray-400"},"Please wait while we fetch your dashboard data...")],-1)])])):s.error?(d(),o("div",qe,[i("div",Qe,[t[2]||(t[2]=i("div",{class:"inline-flex items-center justify-center w-16 h-16 mb-4 rounded-full bg-red-100 dark:bg-red-900/20"},[i("svg",{class:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[3]||(t[3]=i("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Error Loading Data",-1)),i("p",Xe,n(s.error),1),i("button",{onClick:t[0]||(t[0]=(...e)=>l.fetchAnalyticsData&&l.fetchAnalyticsData(...e)),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800"}," Try Again ")])])):s.analyticsData?(d(),o("div",et,[i("div",tt,[w(c,{metrics:s.analyticsData.metrics},null,8,["metrics"])])])):u("",!0)]),_:1})}]]);export{at as default};
