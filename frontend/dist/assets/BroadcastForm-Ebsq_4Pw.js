import{d as e,r as t,m as a,j as s,k as r,q as o,b as l,B as i,e as u}from"./index-BChQAjBg.js";import{N as n}from"./NotificationsAPI-EcAxaXdA.js";import{_ as p}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_ as d}from"./AdminLayout-BDbNDvIA.js";import{_ as c}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{_ as m}from"./Form.vue_vue_type_script_setup_true_lang-Dj0hsM9h.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";const _={class:"space-y-5 sm:space-y-6"},y=e({__name:"BroadcastForm",setup(e){const y=i(),f=t(!1),v=a(()=>[{key:"title",label:"Title",type:"text",required:!0,placeholder:"Notification Title"},{key:"message",label:"Message",type:"textarea",required:!0,rows:4,placeholder:"Enter your message here..."},{key:"type",label:"Type",type:"select",options:[{label:"System",value:"system"},{label:"Promotion",value:"promotion"},{label:"Alert",value:"alert"}],required:!0}]),b=async e=>{f.value=!0;try{await n.sendBroadcast(e),alert("Broadcast sent successfully!"),y.push("/notifications")}catch(t){console.error("Error sending broadcast:",t),alert("Failed to send broadcast")}finally{f.value=!1}};return(e,t)=>(u(),s(d,null,{default:r(()=>[o(p,{pageTitle:"Send Broadcast"}),l("div",_,[o(c,{title:"New Broadcast Message"},{default:r(()=>[o(m,{fields:v.value,loading:f.value,"submit-button-text":"Send Broadcast",onSubmit:b},null,8,["fields","loading"])]),_:1})])]),_:1}))}});export{y as default};
