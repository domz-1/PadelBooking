import{d as a,m as e,C as t,r,o as s,j as o,k as l,B as p,q as i,b as u,c as n,e as d}from"./index-BChQAjBg.js";import{S as c}from"./SportsAPI-CF9IXlgJ.js";import{_ as m}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CiMPynWi.js";import{_}from"./AdminLayout-BDbNDvIA.js";import{_ as v}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CxALZE3h.js";import{_ as y}from"./Form.vue_vue_type_script_setup_true_lang-Dj0hsM9h.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";const f={class:"space-y-5 sm:space-y-6"},b={key:1,class:"flex justify-center py-12"},S=a({__name:"SportForm",setup(a){const S=t(),g=p(),x=e(()=>S.params.id&&"new"!==S.params.id),h=r(!1),j=r(!1),w=r({}),k=e(()=>[{key:"name",label:"Name",type:"text",required:!0,placeholder:"Sport Name"},{key:"icon",label:"Icon URL",type:"text",placeholder:"https://example.com/icon.png"},{key:"description",label:"Description",type:"textarea",rows:3}]),C=async a=>{j.value=!0;try{x.value?await c.updateSport(S.params.id,a):await c.createSport(a),g.push("/sports")}catch(e){console.error("Error saving sport:",e),alert("Failed to save sport")}finally{j.value=!1}};return s(async()=>{x.value&&await(async a=>{h.value=!0;try{const e=await c.getSport(a);w.value=e.data.data||e.data}catch(e){console.error("Error fetching sport:",e),g.push("/sports")}finally{h.value=!1}})(S.params.id)}),(a,e)=>(d(),o(_,null,{default:l(()=>[i(m,{pageTitle:x.value?"Edit Sport":"Add Sport"},null,8,["pageTitle"]),u("div",f,[i(v,{title:x.value?"Edit Sport":"New Sport"},{default:l(()=>[h.value?(d(),n("div",b,[...e[0]||(e[0]=[u("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"},null,-1)])])):(d(),o(y,{key:0,fields:k.value,"initial-data":w.value,loading:j.value,"submit-button-text":x.value?"Update Sport":"Create Sport",onSubmit:C},null,8,["fields","initial-data","loading","submit-button-text"]))]),_:1},8,["title"])])]),_:1}))}});export{S as default};
